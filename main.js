!function(){"use strict";const e=(e,t,r)=>{const n=e.querySelector(`#${t.id}-error`);t.classList.remove(r.inputErrorClass),n.textContent=""},t=e=>e.some((e=>!e.validity.valid)),r=(e,r,o)=>{console.log(t(e)),t(e)?n(r,o):(r.classList.remove(o.inactiveButtonClass),r.disabled=!1)},n=(e,t)=>{e.classList.add(t.inactiveButtonClass),e.disabled=!0};var o={enableValidation:t=>{document.querySelectorAll(t.formSelector).forEach((n=>{((t,n)=>{const o=Array.from(t.querySelectorAll(n.inputSelector)),a=t.querySelector(n.submitButtonSelector);r(o,a,n),o.forEach((c=>{c.addEventListener("input",(function(){((t,r,n)=>{r.validity.valid?e(t,r,n):((e,t,r,n)=>{const o=e.querySelector(`#${t.id}-error`);t.classList.add(n.inputErrorClass),o.textContent=r})(t,r,r.validationMessage,n)})(t,c,n),r(o,a,n)}))}))})(n,t)}))},resetValidation:(t,r,n)=>{r.forEach((r=>{e(t,r,n)}))},config:{formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error"},disableButton:n};const a=new class{constructor(e){let{baseUrl:t,headers:r}=e;this._baseUrl=t,this._headers=r}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}editUserInfo(e){let{name:t,about:r}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:r})}).then(this._checkResponse)}createNewCard(e){let{link:t,name:r}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({link:t,name:r})}).then(this._checkResponse)}getAppInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._checkResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._checkResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}handleLike(e,t){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:this._headers}).then(this._checkResponse)}changeProfileAvatar(e){let{avatar:t}=e;return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"392da7a8-ead8-4180-ae63-2b9b8f49820f","Content-Type":"application/json"}});a.getAppInfo().then((e=>{let[t,r]=e;t.forEach((e=>{const t=H(e);w.prepend(t)})),d.src=r.avatar,l.textContent=r.name,s.textContent=r.about})).catch(console.error);const c=document.querySelector(".profile__edit-button"),l=document.querySelector(".profile__name"),s=document.querySelector(".profile__description"),i=document.querySelector(".profile__new-button"),d=document.querySelector(".profile__image"),u=document.querySelector("#profile-edit-modal"),_=document.querySelector("#delete-modal"),m=(_.querySelector(".modal__button-container"),u.querySelector("#profile-name-input")),h=u.querySelector("#profile-description-input"),v=u.querySelector(".modal__form"),f=document.querySelector("#card-edit-modal"),y=document.querySelector("#avatar-edit-modal"),S=document.querySelector(".avatar__edit-button"),p=y.querySelector(".modal__close"),b=y.querySelector(".modal__save-button"),q=y.querySelector("#avatar-link-input"),k=y.querySelector(".modal__form"),E=f.querySelector(".modal__form"),L=f.querySelector("#card-modal-close"),C=f.querySelector("#card-link-input"),g=f.querySelector("#card-caption-input"),x=document.querySelector("#image-modal"),U=x.querySelector(".modal__close"),$=x.querySelector(".modal__image"),A=x.querySelector(".modal__caption"),D=f.querySelector(".modal__save-button"),B=_.querySelector(".modal__close_type_delete"),I=u.querySelector(".modal__save-button"),P=_.querySelector(".modal__delete-btn"),R=_.querySelector(".modal__cancel-btn"),T=document.querySelector("#card-template"),w=document.querySelector(".cards__list");let N,O;const V=document.querySelectorAll(".modal");function j(e){e.classList.add("modal_opened"),document.addEventListener("keydown",z)}function J(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",z)}function H(e){const t=T.content.querySelector(".card").cloneNode(!0),r=t.querySelector(".card__text"),n=t.querySelector(".card__image"),o=t.querySelector(".card__like-button"),c=t.querySelector(".card__delete-button");return!0===e.isLiked&&o.classList.add("card__like-button_liked"),r.textContent=e.name,n.src=e.link,n.alt=e.name,o.addEventListener("click",(t=>{!function(e,t){const r=e.target.classList.contains("card__like-button_liked"),n=e.target;a.handleLike(t,r).then((()=>{n.classList.toggle("card__like-button_liked",!r)})).catch(console.error)}(t,e._id)})),c.addEventListener("click",(()=>{!function(e,t){N=e,O=t,j(_)}(t,e._id)})),n.addEventListener("click",(()=>{j(x),$.src=e.link,A.textContent=e.name,$.alt=e.name})),t}function z(e){if("Escape"===e.key){const e=document.querySelector(".modal_opened");e&&J(e)}}o.enableValidation(o.config),u.querySelector("#profile-modal-close").addEventListener("click",(()=>{J(u)})),v.addEventListener("submit",(function(e){e.preventDefault(),I.textContent="Saving...",a.editUserInfo({name:m.value,about:h.value}).then((e=>{l.textContent=e.name,s.textContent=e.about,J(u)})).catch(console.error).finally((()=>{I.textContent="Save"}))})),E.addEventListener("submit",(function(e){e.preventDefault(),D.textContent="Saving...",a.createNewCard({link:C.value,name:g.value}).then((e=>{const t=H(e);w.prepend(t),o.disableButton(D,o.config),J(f),E.reset()})).catch(console.error).finally((()=>{D.textContent="Save"}))})),k.addEventListener("submit",(function(e){e.preventDefault(),b.textContent="Saving...",a.changeProfileAvatar({avatar:q.value}).then((e=>{d.src=e.avatar,J(y),k.reset(),o.disableButton(b,o.config)})).catch((e=>{console.error(e)})).finally((()=>{b.textContent="Save"}))})),L.addEventListener("click",(()=>{J(f)})),c.addEventListener("click",(()=>{m.value=l.textContent,h.value=s.textContent,o.resetValidation(v,[m,h],o.config),j(u)})),i.addEventListener("click",(()=>{j(f)})),U.addEventListener("click",(()=>{J(x)})),B.addEventListener("click",(()=>{J(_)})),S.addEventListener("click",(()=>{j(y)})),p.addEventListener("click",(()=>{J(y)})),P.addEventListener("click",(function(e){e.preventDefault(),P.textContent="Deleting...",a.deleteCard(O).then((()=>{N.remove(),J(_)})).catch(console.error).finally((()=>{P.textContent="Delete"}))})),R.addEventListener("click",(e=>{e.preventDefault(),J(_)})),V.forEach((e=>{e.addEventListener("click",(function(t){e.classList.contains("modal_opened")&&t.target.classList.contains("modal")&&J(e)}))}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQUEsTUFlTUEsRUFBaUJBLENBQUNDLEVBQVFDLEVBQVNDLEtBQ3ZDLE1BQU1DLEVBQVVILEVBQU9JLGNBQWMsSUFBSUgsRUFBUUksWUFDakRKLEVBQVFLLFVBQVVDLE9BQU9MLEVBQU9NLGlCQUNoQ0wsRUFBUU0sWUFBYyxFQUFFLEVBV3BCQyxFQUFtQkMsR0FDaEJBLEVBQVVDLE1BQU1YLElBQ2JBLEVBQVFZLFNBQVNDLFFBSXZCQyxFQUFvQkEsQ0FBQ0osRUFBV0ssRUFBVWQsS0FDOUNlLFFBQVFDLElBQUlSLEVBQWdCQyxJQUN4QkQsRUFBZ0JDLEdBQ2xCUSxFQUFjSCxFQUFVZCxJQUV4QmMsRUFBU1YsVUFBVUMsT0FBT0wsRUFBT2tCLHFCQUNqQ0osRUFBU0ssVUFBVyxFQUN0QixFQUdJRixFQUFnQkEsQ0FBQ0gsRUFBVWQsS0FDL0JjLEVBQVNWLFVBQVVnQixJQUFJcEIsRUFBT2tCLHFCQUM5QkosRUFBU0ssVUFBVyxDQUFJLEVBOEIxQixPQUFpQkUsaUJBUFNyQixJQUNQc0IsU0FBU0MsaUJBQWlCdkIsRUFBT3dCLGNBQ3pDQyxTQUFTM0IsSUFoQk00QixFQUFDNUIsRUFBUUUsS0FDakMsTUFBTVMsRUFBWWtCLE1BQU1DLEtBQUs5QixFQUFPeUIsaUJBQWlCdkIsRUFBTzZCLGdCQUN0RGYsRUFBV2hCLEVBQU9JLGNBQWNGLEVBQU84QixzQkFFN0NqQixFQUFrQkosRUFBV0ssRUFBVWQsR0FFdkNTLEVBQVVnQixTQUFTMUIsSUFDakJBLEVBQVFnQyxpQkFBaUIsU0FBUyxXQTFDWEMsRUFBQ2xDLEVBQVFDLEVBQVNDLEtBQ3RDRCxFQUFRWSxTQUFTQyxNQUdwQmYsRUFBZUMsRUFBUUMsRUFBU0MsR0FoQmJpQyxFQUFDbkMsRUFBUUMsRUFBU21DLEVBQWNsQyxLQUNyRCxNQUFNQyxFQUFVSCxFQUFPSSxjQUFjLElBQUlILEVBQVFJLFlBQ2pESixFQUFRSyxVQUFVZ0IsSUFBSXBCLEVBQU9NLGlCQUM3QkwsRUFBUU0sWUFBYzJCLENBQVksRUFXaENELENBQWVuQyxFQUFRQyxFQUFTQSxFQUFRb0Msa0JBQW1CbkMsRUFHN0QsRUFzQ0lnQyxDQUFtQmxDLEVBQVFDLEVBQVNDLEdBQ3BDYSxFQUFrQkosRUFBV0ssRUFBVWQsRUFDekMsR0FBRSxHQUNGLEVBTUEwQixDQUFrQjVCLEVBQVFFLEVBQU8sR0FDakMsRUFHK0JvQyxnQkEzQlhBLENBQUN0QyxFQUFRVyxFQUFXVCxLQUMxQ1MsRUFBVWdCLFNBQVNZLElBQ2pCeEMsRUFBZUMsRUFBUXVDLEVBQU9yQyxFQUFPLEdBQ3JDLEVBd0JnREEsT0E3RXJDLENBQ2J3QixhQUFjLGVBQ2RLLGNBQWUsZ0JBQ2ZDLHFCQUFzQixzQkFDdEJaLG9CQUFxQiw4QkFDckJaLGdCQUFpQiwwQkFDakJnQyxXQUFZLGdCQXVFOENyQixpQkN6RTVELE1BQU1zQixFQUFNLElDSlosTUFDRUMsV0FBQUEsQ0FBV0MsR0FBdUIsSUFBdEIsUUFBRUMsRUFBTyxRQUFFQyxHQUFTRixFQUM5QkcsS0FBS0MsU0FBV0gsRUFDaEJFLEtBQUtFLFNBQVdILENBQ2xCLENBRUFJLGNBQUFBLENBQWVDLEdBQ2IsT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFTkMsUUFBUUMsT0FBTyxVQUFVSixFQUFJSyxTQUN0QyxDQUVBQyxZQUFBQSxDQUFZQyxHQUFrQixJQUFqQixLQUFFQyxFQUFJLE1BQUVDLEdBQU9GLEVBQzFCLE9BQU9HLE1BQU0sR0FBR2QsS0FBS0Msb0JBQXFCLENBQ3hDYyxPQUFRLFFBQ1JoQixRQUFTQyxLQUFLRSxTQUNkYyxLQUFNQyxLQUFLQyxVQUFVLENBQ25CTixPQUNBQyxZQUVETSxLQUFLbkIsS0FBS0csZUFDZixDQUNBaUIsYUFBQUEsQ0FBYUMsR0FBaUIsSUFBaEIsS0FBRUMsRUFBSSxLQUFFVixHQUFNUyxFQUMxQixPQUFPUCxNQUFNLEdBQUdkLEtBQUtDLGlCQUFrQixDQUNyQ2MsT0FBUSxPQUNSaEIsUUFBU0MsS0FBS0UsU0FDZGMsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQkksT0FDQVYsV0FFRE8sS0FBS25CLEtBQUtHLGVBQ2YsQ0FFQW9CLFVBQUFBLEdBQ0UsT0FBT2hCLFFBQVFpQixJQUFJLENBQUN4QixLQUFLeUIsa0JBQW1CekIsS0FBSzBCLGVBQ25ELENBRUFELGVBQUFBLEdBQ0UsT0FBT1gsTUFBTSxHQUFHZCxLQUFLQyxpQkFBa0IsQ0FDckNGLFFBQVNDLEtBQUtFLFdBQ2JpQixLQUFLbkIsS0FBS0csZUFDZixDQUVBdUIsV0FBQUEsR0FDRSxPQUFPWixNQUFNLEdBQUdkLEtBQUtDLG9CQUFxQixDQUN4Q0YsUUFBU0MsS0FBS0UsV0FDYmlCLEtBQUtuQixLQUFLRyxlQUNmLENBRUF3QixVQUFBQSxDQUFXcEUsR0FDVCxPQUFPdUQsTUFBTSxHQUFHZCxLQUFLQyxrQkFBa0IxQyxJQUFNLENBQzNDd0QsT0FBUSxTQUNSaEIsUUFBU0MsS0FBS0UsV0FDYmlCLEtBQUtuQixLQUFLRyxlQUNmLENBRUF5QixVQUFBQSxDQUFXckUsRUFBSXNFLEdBQ2IsT0FBT2YsTUFBTSxHQUFHZCxLQUFLQyxrQkFBa0IxQyxVQUFZLENBQ2pEd0QsT0FBUWMsRUFBVSxTQUFXLE1BQzdCOUIsUUFBU0MsS0FBS0UsV0FDYmlCLEtBQUtuQixLQUFLRyxlQUNmLENBRUEyQixtQkFBQUEsQ0FBbUJDLEdBQWEsSUFBWixPQUFFQyxHQUFRRCxFQUM1QixPQUFPakIsTUFBTSxHQUFHZCxLQUFLQywyQkFBNEIsQ0FDL0NjLE9BQVEsUUFDUmhCLFFBQVNDLEtBQUtFLFNBQ2RjLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJjLE9BQVFBLE1BRVRiLEtBQUtuQixLQUFLRyxlQUNmLEdEcEVrQixDQUNsQkwsUUFBUyxrREFDVEMsUUFBUyxDQUNQa0MsY0FBZSx1Q0FDZixlQUFnQixzQkFJcEJ0QyxFQUNHNEIsYUFDQUosTUFBS3RCLElBQW1CLElBQWpCcUMsRUFBT0MsR0FBS3RDLEVBQ2xCcUMsRUFBTXJELFNBQVN1RCxJQUNiLE1BQU1DLEVBQWNDLEVBQWVGLEdBQ25DRyxFQUFVQyxRQUFRSCxFQUFZLElBR2hDSSxFQUFjQyxJQUFNUCxFQUFLSCxPQUN6QlcsRUFBWWhGLFlBQWN3RSxFQUFLdkIsS0FDL0JnQyxFQUFtQmpGLFlBQWN3RSxFQUFLdEIsS0FBSyxJQUU1Q2dDLE1BQU0xRSxRQUFRMkUsT0FHakIsTUFBTUMsRUFBb0JyRSxTQUFTcEIsY0FBYyx5QkFDM0NxRixFQUFjakUsU0FBU3BCLGNBQWMsa0JBQ3JDc0YsRUFBcUJsRSxTQUFTcEIsY0FBYyx5QkFDNUMwRixFQUFvQnRFLFNBQVNwQixjQUFjLHdCQUMzQ21GLEVBQWdCL0QsU0FBU3BCLGNBQWMsbUJBR3ZDMkYsRUFBbUJ2RSxTQUFTcEIsY0FBYyx1QkFDMUM0RixFQUFrQnhFLFNBQVNwQixjQUFjLGlCQUV6QzZGLEdBRGFELEVBQWdCNUYsY0FBYyw0QkFDdEIyRixFQUFpQjNGLGNBQzFDLHdCQUVJOEYsRUFBNEJILEVBQWlCM0YsY0FDakQsOEJBR0krRixFQUF5QkosRUFBaUIzRixjQUFjLGdCQUV4RGdHLEVBQWdCNUUsU0FBU3BCLGNBQWMsb0JBQ3ZDaUcsRUFBa0I3RSxTQUFTcEIsY0FBYyxzQkFDekNrRyxFQUFzQjlFLFNBQVNwQixjQUFjLHdCQUM3Q21HLEVBQW1CRixFQUFnQmpHLGNBQWMsaUJBQ2pEb0csRUFBZ0JILEVBQWdCakcsY0FBYyx1QkFDOUNxRyxFQUFjSixFQUFnQmpHLGNBQWMsc0JBQzVDc0csRUFBYUwsRUFBZ0JqRyxjQUFjLGdCQUMzQ3VHLEVBQXFCUCxFQUFjaEcsY0FBYyxnQkFDakR3RyxFQUF1QlIsRUFBY2hHLGNBQWMscUJBQ25EeUcsRUFBZ0JULEVBQWNoRyxjQUFjLG9CQUM1QzBHLEVBQW1CVixFQUFjaEcsY0FBYyx1QkFDL0MyRyxFQUFvQnZGLFNBQVNwQixjQUFjLGdCQUMzQzRHLEVBQ0pELEVBQWtCM0csY0FBYyxpQkFFNUI2RyxFQUFlRixFQUFrQjNHLGNBQWMsaUJBQy9DOEcsRUFBaUJILEVBQWtCM0csY0FBYyxtQkFDakQrRyxFQUFnQmYsRUFBY2hHLGNBQWMsdUJBQzVDZ0gsRUFBeUJwQixFQUFnQjVGLGNBQzdDLDZCQUVJaUgsRUFBcUJ0QixFQUFpQjNGLGNBQzFDLHVCQUVJa0gsRUFBZXRCLEVBQWdCNUYsY0FBYyxzQkFDN0NtSCxFQUFldkIsRUFBZ0I1RixjQUFjLHNCQUc3Q29ILEVBQWVoRyxTQUFTcEIsY0FBYyxrQkFDdENpRixFQUFZN0QsU0FBU3BCLGNBQWMsZ0JBRXpDLElBQUlxSCxFQUNBQyxFQUdKLE1BQU1DLEVBQVNuRyxTQUFTQyxpQkFBaUIsVUFJekMsU0FBU21HLEVBQVVDLEdBQ2pCQSxFQUFNdkgsVUFBVWdCLElBQUksZ0JBQ3BCRSxTQUFTUyxpQkFBaUIsVUFBVzZGLEVBQ3ZDLENBS0EsU0FBU0MsRUFBV0YsR0FDbEJBLEVBQU12SCxVQUFVQyxPQUFPLGdCQUN2QmlCLFNBQVN3RyxvQkFBb0IsVUFBV0YsRUFDMUMsQ0E4RUEsU0FBUzFDLEVBQWU2QyxHQUN0QixNQUFNOUMsRUFBY3FDLEVBQWFVLFFBQzlCOUgsY0FBYyxTQUNkK0gsV0FBVSxHQUVQQyxFQUFrQmpELEVBQVkvRSxjQUFjLGVBQzVDaUksRUFBbUJsRCxFQUFZL0UsY0FBYyxnQkFDN0NrSSxFQUFrQm5ELEVBQVkvRSxjQUFjLHNCQUM1Q21JLEVBQW9CcEQsRUFBWS9FLGNBQWMsd0JBMEJwRCxPQXhCcUIsSUFBakI2SCxFQUFLdEQsU0FDUDJELEVBQWdCaEksVUFBVWdCLElBQUksMkJBR2hDOEcsRUFBZ0IzSCxZQUFjd0gsRUFBS3ZFLEtBQ25DMkUsRUFBaUI3QyxJQUFNeUMsRUFBSzdELEtBQzVCaUUsRUFBaUJHLElBQU1QLEVBQUt2RSxLQUU1QjRFLEVBQWdCckcsaUJBQWlCLFNBQVV3RyxLQTlCN0MsU0FBb0JBLEVBQUtwSSxHQUN2QixNQUFNc0UsRUFBVThELEVBQUlDLE9BQU9wSSxVQUFVcUksU0FBUywyQkFDeENDLEVBQWFILEVBQUlDLE9BRXZCakcsRUFDR2lDLFdBQVdyRSxFQUFJc0UsR0FDZlYsTUFBSyxLQUNKMkUsRUFBV3RJLFVBQVV1SSxPQUFPLDJCQUE0QmxFLEVBQVEsSUFFakVnQixNQUFNMUUsUUFBUTJFLE1BQ25CLENBcUJJbEIsQ0FBVytELEVBQUtSLEVBQUthLElBQUksSUFHM0JQLEVBQWtCdEcsaUJBQWlCLFNBQVMsTUFpRjlDLFNBQTBCa0QsRUFBYTRELEdBQ3JDdEIsRUFBZXRDLEVBQ2Z1QyxFQUFpQnFCLEVBQ2pCbkIsRUFBVTVCLEVBQ1osQ0FwRklnRCxDQUFpQjdELEVBQWE4QyxFQUFLYSxJQUFJLElBR3pDVCxFQUFpQnBHLGlCQUFpQixTQUFTLEtBQ3pDMkYsRUFBVWIsR0FFVkUsRUFBYXpCLElBQU15QyxFQUFLN0QsS0FDeEI4QyxFQUFlekcsWUFBY3dILEVBQUt2RSxLQUNsQ3VELEVBQWF1QixJQUFNUCxFQUFLdkUsSUFBSSxJQUd2QnlCLENBQ1QsQ0FxRkEsU0FBUzJDLEVBQWFXLEdBQ3BCLEdBQWdCLFdBQVpBLEVBQUlRLElBQWtCLENBQ3hCLE1BQU1DLEVBQWMxSCxTQUFTcEIsY0FBYyxpQkFDdkM4SSxHQUNGbkIsRUFBV21CLEVBRWYsQ0FDRixDQTFOQUMsRUFBVzVILGlCQUFpQjRILEVBQVdqSixRQU9iNkYsRUFBaUIzRixjQUN6Qyx3QkFzSWdCNkIsaUJBQWlCLFNBQVMsS0FDMUM4RixFQUFXaEMsRUFBaUIsSUFHOUJJLEVBQXVCbEUsaUJBQWlCLFVBNUd4QyxTQUFxQ3dHLEdBQ25DQSxFQUFJVyxpQkFFSi9CLEVBQW1CNUcsWUFBYyxZQUVqQ2dDLEVBQ0dlLGFBQWEsQ0FDWkUsS0FBTXVDLEVBQW1Cb0QsTUFDekIxRixNQUFPdUMsRUFBMEJtRCxRQUVsQ3BGLE1BQU1nRSxJQUNMeEMsRUFBWWhGLFlBQWN3SCxFQUFLdkUsS0FDL0JnQyxFQUFtQmpGLFlBQWN3SCxFQUFLdEUsTUFDdENvRSxFQUFXaEMsRUFBaUIsSUFFN0JKLE1BQU0xRSxRQUFRMkUsT0FDZDBELFNBQVEsS0FDUGpDLEVBQW1CNUcsWUFBYyxNQUFNLEdBRTdDLElBMkZBa0csRUFBbUIxRSxpQkFBaUIsVUF6RnBDLFNBQTZCd0csR0FDM0JBLEVBQUlXLGlCQUVKakMsRUFBYzFHLFlBQWMsWUFFNUJnQyxFQUNHeUIsY0FBYyxDQUFFRSxLQUFNeUMsRUFBY3dDLE1BQU8zRixLQUFNb0QsRUFBaUJ1QyxRQUNsRXBGLE1BQU1nRSxJQUNMLE1BQU05QyxFQUFjQyxFQUFlNkMsR0FDbkM1QyxFQUFVQyxRQUFRSCxHQUNsQmdFLEVBQVdoSSxjQUFjZ0csRUFBZWdDLEVBQVdqSixRQUNuRDZILEVBQVczQixHQUNYTyxFQUFtQjRDLE9BQU8sSUFFM0I1RCxNQUFNMUUsUUFBUTJFLE9BQ2QwRCxTQUFRLEtBQ1BuQyxFQUFjMUcsWUFBYyxNQUFNLEdBRXhDLElBeUVBaUcsRUFBV3pFLGlCQUFpQixVQXZJNUIsU0FBb0N3RyxHQUNsQ0EsRUFBSVcsaUJBRUo1QyxFQUFjL0YsWUFBYyxZQUU1QmdDLEVBQ0dtQyxvQkFBb0IsQ0FDbkJFLE9BQVEyQixFQUFZNEMsUUFFckJwRixNQUFNZ0UsSUFDTDFDLEVBQWNDLElBQU15QyxFQUFLbkQsT0FDekJpRCxFQUFXMUIsR0FDWEssRUFBVzZDLFFBQ1hKLEVBQVdoSSxjQUFjcUYsRUFBZTJDLEVBQVdqSixPQUFPLElBRTNEeUYsT0FBTzZELElBQ052SSxRQUFRMkUsTUFBTTRELEVBQUksSUFFbkJGLFNBQVEsS0FDUDlDLEVBQWMvRixZQUFjLE1BQU0sR0FFeEMsSUFvSEFtRyxFQUFxQjNFLGlCQUFpQixTQUFTLEtBQzdDOEYsRUFBVzNCLEVBQWMsSUFHM0JQLEVBQWtCNUQsaUJBQWlCLFNBQVMsS0FDMUNnRSxFQUFtQm9ELE1BQVE1RCxFQUFZaEYsWUFDdkN5RixFQUEwQm1ELE1BQVEzRCxFQUFtQmpGLFlBQ3JEMEksRUFBVzdHLGdCQUNUNkQsRUFDQSxDQUFDRixFQUFvQkMsR0FDckJpRCxFQUFXakosUUFFYjBILEVBQVU3QixFQUFpQixJQUc3QkQsRUFBa0I3RCxpQkFBaUIsU0FBUyxLQUMxQzJGLEVBQVV4QixFQUFjLElBRzFCWSxFQUF3Qi9FLGlCQUFpQixTQUFTLEtBQ2hEOEYsRUFBV2hCLEVBQWtCLElBRy9CSyxFQUF1Qm5GLGlCQUFpQixTQUFTLEtBQy9DOEYsRUFBVy9CLEVBQWdCLElBRzdCTSxFQUFvQnJFLGlCQUFpQixTQUFTLEtBQzVDMkYsRUFBVXZCLEVBQWdCLElBRzVCRSxFQUFpQnRFLGlCQUFpQixTQUFTLEtBQ3pDOEYsRUFBVzFCLEVBQWdCLElBRzdCaUIsRUFBYXJGLGlCQUFpQixTQTNEOUIsU0FBNEJ3RyxHQUMxQkEsRUFBSVcsaUJBQ0o5QixFQUFhN0csWUFBYyxjQUMzQmdDLEVBQ0dnQyxXQUFXaUQsR0FDWHpELE1BQUssS0FDSndELEVBQWFsSCxTQUNid0gsRUFBVy9CLEVBQWdCLElBRTVCTCxNQUFNMUUsUUFBUTJFLE9BQ2QwRCxTQUFRLEtBQ1BoQyxFQUFhN0csWUFBYyxRQUFRLEdBRXpDLElBZ0RBOEcsRUFBYXRGLGlCQUFpQixTQUFVd0csSUFDdENBLEVBQUlXLGlCQUNKckIsRUFBVy9CLEVBQWdCLElBUzdCMkIsRUFBT2hHLFNBQVNrRyxJQUNkQSxFQUFNNUYsaUJBQWlCLFNBQVMsU0FBVXdHLEdBRXRDWixFQUFNdkgsVUFBVXFJLFNBQVMsaUJBQ3pCRixFQUFJQyxPQUFPcEksVUFBVXFJLFNBQVMsVUFFOUJaLEVBQVdGLEVBRWYsR0FBRSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9zY3JpcHRzL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3V0aWxzL0FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc2F2ZS1idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zYXZlLWJ1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yXCIsXHJcbn07XHJcblxyXG5jb25zdCBzaG93SW5wdXRFcnJvciA9IChmb3JtRWwsIGlucHV0RWwsIGVycm9yTWVzc2FnZSwgY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZXJyb3JFbCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gIGlucHV0RWwuY2xhc3NMaXN0LmFkZChjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICBlcnJvckVsLnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG59O1xyXG5cclxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsLCBpbnB1dEVsLCBjb25maWcpID0+IHtcclxuICBjb25zdCBlcnJvckVsID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIGVycm9yRWwudGV4dENvbnRlbnQgPSBcIlwiO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKSA9PiB7XHJcbiAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICBzaG93SW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2UsIGNvbmZpZyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XHJcbiAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsKSA9PiB7XHJcbiAgICByZXR1cm4gIWlucHV0RWwudmFsaWRpdHkudmFsaWQ7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCB0b2dnbGVCdXR0b25TdGF0ZSA9IChpbnB1dExpc3QsIGJ1dHRvbkVsLCBjb25maWcpID0+IHtcclxuICBjb25zb2xlLmxvZyhoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSk7XHJcbiAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XHJcbiAgICBkaXNhYmxlQnV0dG9uKGJ1dHRvbkVsLCBjb25maWcpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidXR0b25FbC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIGJ1dHRvbkVsLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZGlzYWJsZUJ1dHRvbiA9IChidXR0b25FbCwgY29uZmlnKSA9PiB7XHJcbiAgYnV0dG9uRWwuY2xhc3NMaXN0LmFkZChjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgYnV0dG9uRWwuZGlzYWJsZWQgPSB0cnVlO1xyXG59O1xyXG5cclxuY29uc3QgcmVzZXRWYWxpZGF0aW9uID0gKGZvcm1FbCwgaW5wdXRMaXN0LCBjb25maWcpID0+IHtcclxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbCwgaW5wdXQsIGNvbmZpZyk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBzZXRFdmVudExpc3RlbmVycyA9IChmb3JtRWwsIGNvbmZpZykgPT4ge1xyXG4gIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcclxuICBjb25zdCBidXR0b25FbCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcblxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWwsIGNvbmZpZyk7XHJcblxyXG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWwsIGlucHV0RWwsIGNvbmZpZyk7XHJcbiAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWwsIGNvbmZpZyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpO1xyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbCkgPT4ge1xyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsLCBjb25maWcpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgeyBlbmFibGVWYWxpZGF0aW9uLCByZXNldFZhbGlkYXRpb24sIGNvbmZpZywgZGlzYWJsZUJ1dHRvbiB9O1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgdmFsaWRhdGlvbiBmcm9tIFwiLi4vc2NyaXB0cy92YWxpZGF0aW9uLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiO1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiMzkyZGE3YTgtZWFkOC00MTgwLWFlNjMtMmI5YjhmNDk4MjBmXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbmFwaVxyXG4gIC5nZXRBcHBJbmZvKClcclxuICAudGhlbigoW2NhcmRzLCB1c2VyXSkgPT4ge1xyXG4gICAgY2FyZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGl0ZW0pO1xyXG4gICAgICBjYXJkc0xpc3QucHJlcGVuZChjYXJkRWxlbWVudCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBwcm9maWxlQXZhdGFyLnNyYyA9IHVzZXIuYXZhdGFyO1xyXG4gICAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSB1c2VyLm5hbWU7XHJcbiAgICBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB1c2VyLmFib3V0O1xyXG4gIH0pXHJcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG5cclxuLy8gUHJvZmlsZSBFbGVtZW50c1xyXG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xyXG5jb25zdCBjYXJkTmV3UG9zdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmV3LWJ1dHRvblwiKTtcclxuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIik7XHJcblxyXG4vLyBGb3JtIEVsZW1lbnRzXHJcbmNvbnN0IHByb2ZpbGVFZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiKTtcclxuY29uc3QgY2FyZERlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZWxldGUtbW9kYWxcIik7XHJcbmNvbnN0IGRlbGV0ZUZvcm0gPSBjYXJkRGVsZXRlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uLWNvbnRhaW5lclwiKTtcclxuY29uc3QgZWRpdE1vZGFsTmFtZUlucHV0ID0gcHJvZmlsZUVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI3Byb2ZpbGUtbmFtZS1pbnB1dFwiXHJcbik7XHJcbmNvbnN0IGVkaXRNb2RhbERlc2NyaXB0aW9uSW5wdXQgPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXHJcbik7XHJcblxyXG5jb25zdCBlZGl0UHJvZmlsZUZvcm1FbGVtZW50ID0gcHJvZmlsZUVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG5cclxuY29uc3QgY2FyZEVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1lZGl0LW1vZGFsXCIpO1xyXG5jb25zdCBhdmF0YXJFZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1lZGl0LW1vZGFsXCIpO1xyXG5jb25zdCBlZGl0UHJvZmlsZUF2YXRhckVMID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hdmF0YXJfX2VkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBhdmF0YXJNb2RhbENsb3NlID0gYXZhdGFyRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpO1xyXG5jb25zdCBzYXZlQXZhdGFyQnRuID0gYXZhdGFyRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIpO1xyXG5jb25zdCBhdmF0YXJJbnB1dCA9IGF2YXRhckVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1saW5rLWlucHV0XCIpO1xyXG5jb25zdCBhdmF0YXJGb3JtID0gYXZhdGFyRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbmNvbnN0IGFkZFBvc3RGb3JtRWxlbWVudCA9IGNhcmRFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuY29uc3QgY2FyZE1vZGFsQ2xvc2VCdXR0b24gPSBjYXJkRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1tb2RhbC1jbG9zZVwiKTtcclxuY29uc3QgY2FyZExpbmtJbnB1dCA9IGNhcmRFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNjYXJkLWxpbmstaW5wdXRcIik7XHJcbmNvbnN0IGNhcmRDYXB0aW9uSW5wdXQgPSBjYXJkRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1jYXB0aW9uLWlucHV0XCIpO1xyXG5jb25zdCBpbWFnZVByZXZpZXdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtbW9kYWxcIik7XHJcbmNvbnN0IHByZXZpZXdNb2RhbENsb3NlQnV0dG9uID1cclxuICBpbWFnZVByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcclxuXHJcbmNvbnN0IHByZXZpZXdJbWFnZSA9IGltYWdlUHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xyXG5jb25zdCBwcmV2aWV3Q2FwdGlvbiA9IGltYWdlUHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XHJcbmNvbnN0IGNhcmRTdWJtaXRCdG4gPSBjYXJkRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIpO1xyXG5jb25zdCBkZWxldGVNb2RhbENsb3NlQnV0dG9uID0gY2FyZERlbGV0ZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIubW9kYWxfX2Nsb3NlX3R5cGVfZGVsZXRlXCJcclxuKTtcclxuY29uc3QgcHJvZmlsZUVkaXRTYXZlQnRuID0gcHJvZmlsZUVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiXHJcbik7XHJcbmNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGNhcmREZWxldGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19kZWxldGUtYnRuXCIpO1xyXG5jb25zdCBjYW5jZWxCdXR0b24gPSBjYXJkRGVsZXRlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2FuY2VsLWJ0blwiKTtcclxuXHJcbi8vQ2FyZCByZWxhdGVkIEVsZW1lbnRzXHJcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKTtcclxuY29uc3QgY2FyZHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcclxuXHJcbmxldCBzZWxlY3RlZENhcmQ7XHJcbmxldCBzZWxlY3RlZENhcmRJZDtcclxuXHJcbi8vTW9kYWwgRWxlbWVudFxyXG5jb25zdCBtb2RhbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsXCIpO1xyXG5cclxudmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKHZhbGlkYXRpb24uY29uZmlnKTtcclxuXHJcbmZ1bmN0aW9uIG9wZW5Nb2RhbChtb2RhbCkge1xyXG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlKTtcclxufVxyXG5cclxuY29uc3QgcHJvZmlsZU1vZGFsQ2xvc2UgPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjcHJvZmlsZS1tb2RhbC1jbG9zZVwiXHJcbik7XHJcbmZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcclxuICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUF2YXRhckVkaXRGb3JtU3VibWl0KGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBzYXZlQXZhdGFyQnRuLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuXHJcbiAgYXBpXHJcbiAgICAuY2hhbmdlUHJvZmlsZUF2YXRhcih7XHJcbiAgICAgIGF2YXRhcjogYXZhdGFySW5wdXQudmFsdWUsXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgcHJvZmlsZUF2YXRhci5zcmMgPSBkYXRhLmF2YXRhcjtcclxuICAgICAgY2xvc2VNb2RhbChhdmF0YXJFZGl0TW9kYWwpO1xyXG4gICAgICBhdmF0YXJGb3JtLnJlc2V0KCk7XHJcbiAgICAgIHZhbGlkYXRpb24uZGlzYWJsZUJ1dHRvbihzYXZlQXZhdGFyQnRuLCB2YWxpZGF0aW9uLmNvbmZpZyk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgc2F2ZUF2YXRhckJ0bi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVFZGl0Rm9ybVN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgcHJvZmlsZUVkaXRTYXZlQnRuLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuXHJcbiAgYXBpXHJcbiAgICAuZWRpdFVzZXJJbmZvKHtcclxuICAgICAgbmFtZTogZWRpdE1vZGFsTmFtZUlucHV0LnZhbHVlLFxyXG4gICAgICBhYm91dDogZWRpdE1vZGFsRGVzY3JpcHRpb25JbnB1dC52YWx1ZSxcclxuICAgIH0pXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgICAgcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuICAgICAgY2xvc2VNb2RhbChwcm9maWxlRWRpdE1vZGFsKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcHJvZmlsZUVkaXRTYXZlQnRuLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZFN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgY2FyZFN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XHJcblxyXG4gIGFwaVxyXG4gICAgLmNyZWF0ZU5ld0NhcmQoeyBsaW5rOiBjYXJkTGlua0lucHV0LnZhbHVlLCBuYW1lOiBjYXJkQ2FwdGlvbklucHV0LnZhbHVlIH0pXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGRhdGEpO1xyXG4gICAgICBjYXJkc0xpc3QucHJlcGVuZChjYXJkRWxlbWVudCk7XHJcbiAgICAgIHZhbGlkYXRpb24uZGlzYWJsZUJ1dHRvbihjYXJkU3VibWl0QnRuLCB2YWxpZGF0aW9uLmNvbmZpZyk7XHJcbiAgICAgIGNsb3NlTW9kYWwoY2FyZEVkaXRNb2RhbCk7XHJcbiAgICAgIGFkZFBvc3RGb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBjYXJkU3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTGlrZShldnQsIGlkKSB7XHJcbiAgY29uc3QgaXNMaWtlZCA9IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fbGlrZS1idXR0b25fbGlrZWRcIik7XHJcbiAgY29uc3QgbGlrZUJ1dHRvbiA9IGV2dC50YXJnZXQ7XHJcblxyXG4gIGFwaVxyXG4gICAgLmhhbmRsZUxpa2UoaWQsIGlzTGlrZWQpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2xpa2VkXCIsICFpc0xpa2VkKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENhcmRFbGVtZW50KGRhdGEpIHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5jb250ZW50XHJcbiAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICBjb25zdCBjYXJkTmFtZUVsZW1lbnQgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RleHRcIik7XHJcbiAgY29uc3QgY2FyZEltYWdlRWxlbWVudCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgY29uc3QgY2FyZExpa2VFbGVtZW50ID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuICBjb25zdCBjYXJkRGVsZXRlRWxlbWVudCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKTtcclxuXHJcbiAgaWYgKGRhdGEuaXNMaWtlZCA9PT0gdHJ1ZSkge1xyXG4gICAgY2FyZExpa2VFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9saWtlZFwiKTtcclxuICB9XHJcblxyXG4gIGNhcmROYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICBjYXJkSW1hZ2VFbGVtZW50LnNyYyA9IGRhdGEubGluaztcclxuICBjYXJkSW1hZ2VFbGVtZW50LmFsdCA9IGRhdGEubmFtZTtcclxuXHJcbiAgY2FyZExpa2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICBoYW5kbGVMaWtlKGV2dCwgZGF0YS5faWQpO1xyXG4gIH0pO1xyXG5cclxuICBjYXJkRGVsZXRlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgaGFuZGxlRGVsZXRlQ2FyZChjYXJkRWxlbWVudCwgZGF0YS5faWQpO1xyXG4gIH0pO1xyXG5cclxuICBjYXJkSW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBvcGVuTW9kYWwoaW1hZ2VQcmV2aWV3TW9kYWwpO1xyXG5cclxuICAgIHByZXZpZXdJbWFnZS5zcmMgPSBkYXRhLmxpbms7XHJcbiAgICBwcmV2aWV3Q2FwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIHByZXZpZXdJbWFnZS5hbHQgPSBkYXRhLm5hbWU7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlU3VibWl0KGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGRlbGV0ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiRGVsZXRpbmcuLi5cIjtcclxuICBhcGlcclxuICAgIC5kZWxldGVDYXJkKHNlbGVjdGVkQ2FyZElkKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBzZWxlY3RlZENhcmQucmVtb3ZlKCk7XHJcbiAgICAgIGNsb3NlTW9kYWwoY2FyZERlbGV0ZU1vZGFsKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgZGVsZXRlQnV0dG9uLnRleHRDb250ZW50ID0gXCJEZWxldGVcIjtcclxuICAgIH0pO1xyXG59XHJcbnByb2ZpbGVNb2RhbENsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY2xvc2VNb2RhbChwcm9maWxlRWRpdE1vZGFsKTtcclxufSk7XHJcblxyXG5lZGl0UHJvZmlsZUZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlUHJvZmlsZUVkaXRGb3JtU3VibWl0KTtcclxuXHJcbmFkZFBvc3RGb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUFkZENhcmRTdWJtaXQpO1xyXG5cclxuYXZhdGFyRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUF2YXRhckVkaXRGb3JtU3VibWl0KTtcclxuXHJcbmNhcmRNb2RhbENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY2xvc2VNb2RhbChjYXJkRWRpdE1vZGFsKTtcclxufSk7XHJcblxyXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGVkaXRNb2RhbE5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVOYW1lLnRleHRDb250ZW50O1xyXG4gIGVkaXRNb2RhbERlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQ7XHJcbiAgdmFsaWRhdGlvbi5yZXNldFZhbGlkYXRpb24oXHJcbiAgICBlZGl0UHJvZmlsZUZvcm1FbGVtZW50LFxyXG4gICAgW2VkaXRNb2RhbE5hbWVJbnB1dCwgZWRpdE1vZGFsRGVzY3JpcHRpb25JbnB1dF0sXHJcbiAgICB2YWxpZGF0aW9uLmNvbmZpZ1xyXG4gICk7XHJcbiAgb3Blbk1vZGFsKHByb2ZpbGVFZGl0TW9kYWwpO1xyXG59KTtcclxuXHJcbmNhcmROZXdQb3N0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgb3Blbk1vZGFsKGNhcmRFZGl0TW9kYWwpO1xyXG59KTtcclxuXHJcbnByZXZpZXdNb2RhbENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY2xvc2VNb2RhbChpbWFnZVByZXZpZXdNb2RhbCk7XHJcbn0pO1xyXG5cclxuZGVsZXRlTW9kYWxDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNsb3NlTW9kYWwoY2FyZERlbGV0ZU1vZGFsKTtcclxufSk7XHJcblxyXG5lZGl0UHJvZmlsZUF2YXRhckVMLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgb3Blbk1vZGFsKGF2YXRhckVkaXRNb2RhbCk7XHJcbn0pO1xyXG5cclxuYXZhdGFyTW9kYWxDbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNsb3NlTW9kYWwoYXZhdGFyRWRpdE1vZGFsKTtcclxufSk7XHJcblxyXG5kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZURlbGV0ZVN1Ym1pdCk7XHJcblxyXG5jYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBjbG9zZU1vZGFsKGNhcmREZWxldGVNb2RhbCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2FyZChjYXJkRWxlbWVudCwgY2FyZElkKSB7XHJcbiAgc2VsZWN0ZWRDYXJkID0gY2FyZEVsZW1lbnQ7XHJcbiAgc2VsZWN0ZWRDYXJkSWQgPSBjYXJkSWQ7XHJcbiAgb3Blbk1vZGFsKGNhcmREZWxldGVNb2RhbCk7XHJcbn1cclxuXHJcbm1vZGFscy5mb3JFYWNoKChtb2RhbCkgPT4ge1xyXG4gIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIG1vZGFsLmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX29wZW5lZFwiKSAmJlxyXG4gICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsXCIpXHJcbiAgICApIHtcclxuICAgICAgY2xvc2VNb2RhbChtb2RhbCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlRXNjYXBlKGV2dCkge1xyXG4gIGlmIChldnQua2V5ID09PSBgRXNjYXBlYCkge1xyXG4gICAgY29uc3Qgb3BlbmVkUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGlmIChvcGVuZWRQb3B1cCkge1xyXG4gICAgICBjbG9zZU1vZGFsKG9wZW5lZFBvcHVwKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG4gIGVkaXRVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG4gIGNyZWF0ZU5ld0NhcmQoeyBsaW5rLCBuYW1lIH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGxpbmssXHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZ2V0QXBwSW5mbygpIHtcclxuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRJbml0aWFsQ2FyZHMoKSwgdGhpcy5nZXRVc2VySW5mbygpXSk7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlTGlrZShpZCwgaXNMaWtlZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IGlzTGlrZWQgPyBcIkRFTEVURVwiIDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VQcm9maWxlQXZhdGFyKHsgYXZhdGFyIH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBhdmF0YXIsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFwaTtcclxuIl0sIm5hbWVzIjpbImhpZGVJbnB1dEVycm9yIiwiZm9ybUVsIiwiaW5wdXRFbCIsImNvbmZpZyIsImVycm9yRWwiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJpbnB1dEVycm9yQ2xhc3MiLCJ0ZXh0Q29udGVudCIsImhhc0ludmFsaWRJbnB1dCIsImlucHV0TGlzdCIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJidXR0b25FbCIsImNvbnNvbGUiLCJsb2ciLCJkaXNhYmxlQnV0dG9uIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiYWRkIiwiZW5hYmxlVmFsaWRhdGlvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvcm1TZWxlY3RvciIsImZvckVhY2giLCJzZXRFdmVudExpc3RlbmVycyIsIkFycmF5IiwiZnJvbSIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJjaGVja0lucHV0VmFsaWRpdHkiLCJzaG93SW5wdXRFcnJvciIsImVycm9yTWVzc2FnZSIsInZhbGlkYXRpb25NZXNzYWdlIiwicmVzZXRWYWxpZGF0aW9uIiwiaW5wdXQiLCJlcnJvckNsYXNzIiwiYXBpIiwiY29uc3RydWN0b3IiLCJfcmVmIiwiYmFzZVVybCIsImhlYWRlcnMiLCJ0aGlzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9jaGVja1Jlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImVkaXRVc2VySW5mbyIsIl9yZWYyIiwibmFtZSIsImFib3V0IiwiZmV0Y2giLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInRoZW4iLCJjcmVhdGVOZXdDYXJkIiwiX3JlZjMiLCJsaW5rIiwiZ2V0QXBwSW5mbyIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJJbmZvIiwiZGVsZXRlQ2FyZCIsImhhbmRsZUxpa2UiLCJpc0xpa2VkIiwiY2hhbmdlUHJvZmlsZUF2YXRhciIsIl9yZWY0IiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsImNhcmRzIiwidXNlciIsIml0ZW0iLCJjYXJkRWxlbWVudCIsImdldENhcmRFbGVtZW50IiwiY2FyZHNMaXN0IiwicHJlcGVuZCIsInByb2ZpbGVBdmF0YXIiLCJzcmMiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVEZXNjcmlwdGlvbiIsImNhdGNoIiwiZXJyb3IiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImNhcmROZXdQb3N0QnV0dG9uIiwicHJvZmlsZUVkaXRNb2RhbCIsImNhcmREZWxldGVNb2RhbCIsImVkaXRNb2RhbE5hbWVJbnB1dCIsImVkaXRNb2RhbERlc2NyaXB0aW9uSW5wdXQiLCJlZGl0UHJvZmlsZUZvcm1FbGVtZW50IiwiY2FyZEVkaXRNb2RhbCIsImF2YXRhckVkaXRNb2RhbCIsImVkaXRQcm9maWxlQXZhdGFyRUwiLCJhdmF0YXJNb2RhbENsb3NlIiwic2F2ZUF2YXRhckJ0biIsImF2YXRhcklucHV0IiwiYXZhdGFyRm9ybSIsImFkZFBvc3RGb3JtRWxlbWVudCIsImNhcmRNb2RhbENsb3NlQnV0dG9uIiwiY2FyZExpbmtJbnB1dCIsImNhcmRDYXB0aW9uSW5wdXQiLCJpbWFnZVByZXZpZXdNb2RhbCIsInByZXZpZXdNb2RhbENsb3NlQnV0dG9uIiwicHJldmlld0ltYWdlIiwicHJldmlld0NhcHRpb24iLCJjYXJkU3VibWl0QnRuIiwiZGVsZXRlTW9kYWxDbG9zZUJ1dHRvbiIsInByb2ZpbGVFZGl0U2F2ZUJ0biIsImRlbGV0ZUJ1dHRvbiIsImNhbmNlbEJ1dHRvbiIsImNhcmRUZW1wbGF0ZSIsInNlbGVjdGVkQ2FyZCIsInNlbGVjdGVkQ2FyZElkIiwibW9kYWxzIiwib3Blbk1vZGFsIiwibW9kYWwiLCJoYW5kbGVFc2NhcGUiLCJjbG9zZU1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRhdGEiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZE5hbWVFbGVtZW50IiwiY2FyZEltYWdlRWxlbWVudCIsImNhcmRMaWtlRWxlbWVudCIsImNhcmREZWxldGVFbGVtZW50IiwiYWx0IiwiZXZ0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJsaWtlQnV0dG9uIiwidG9nZ2xlIiwiX2lkIiwiY2FyZElkIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImtleSIsIm9wZW5lZFBvcHVwIiwidmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwidmFsdWUiLCJmaW5hbGx5IiwicmVzZXQiLCJlcnIiXSwic291cmNlUm9vdCI6IiJ9